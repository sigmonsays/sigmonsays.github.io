<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ssh git configuration</title><link rel="stylesheet" href="/site.css"></head><body><div class="container"><header style="padding:1rem;border-bottom:1px solid #ddd"><h1>ssh git configuration</h1><nav><a href="/">home</a>&nbsp<a href="/archive.html">archive</a>&nbsp</nav></header><main class="article"><span style="display: inline-block; text-align: right; width: 100%;">Posted on 2025/07/21<br>tagged <a href="/tag/dotfiles.html">dotfiles</a> &nbsp;</span><p></p><p>ssh configuration can be tricky with git if you have to use multiple keys and even more so when multiple keys
for the same host.  This post will demonstrate a flexible configuration method of defining git configuration
per top level directory.</p>
<p>in <code>~/.gitconfig</code> put the following</p>
<pre><code>[includeIf &quot;gitdir:~/code/&quot;]
    path = ~/.gitconfig.d/personal

[includeIf &quot;gitdir:~/work/&quot;]
    path = ~/.gitconfig.d/work
</code></pre>
<p>This includes .gitconfig.d/personal if you are in ~/code and .gitconfig.d/work if you are in ~/work</p>
<p>Within each of these files you can then configure the appropriate things for that space</p>
<pre><code>[core]
sshCommand = &quot;ssh -i ~/.private/keys/personal/secret&quot;

[user]
email = user@example.net
name = sigmonsays
</code></pre>
<p>the sshCommand parameter sets what private key to use for the ssh connection. The other
parameters configure what e-mail and name to use for committing.</p>
<p>That's about it!</p>
</main><footer style="padding:1rem;border-top:1px solid #ddd;margin-top:2rem"><small>Â© Sigmonsays</small></footer></div></body></html>