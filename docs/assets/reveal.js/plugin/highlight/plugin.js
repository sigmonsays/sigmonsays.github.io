/*!
 * reveal.js plugin that adds syntax highlight support.
 */import hljs from"highlight.js";!function(e,t){"use strict";var s,h="hljs-ln",f="hljs-ln-line",i="hljs-ln-code",m="hljs-ln-numbers",a="hljs-ln-n",o="data-line-number",r=/\r\n|\r|\n/g;function p(e){for(d=e.toString(),t=e.anchorNode;"TD"!==t.nodeName;)t=t.parentNode;for(r=e.focusNode;"TD"!==r.nodeName;)r=r.parentNode;if(c=parseInt(t.dataset.lineNumber),l=parseInt(r.dataset.lineNumber),c==l)return d;s=t.textContent,a=r.textContent;for(l<c&&(u=c,c=l,l=u,u=s,s=a,a=u);0!==d.indexOf(s);)s=s.slice(1);for(;-1===d.lastIndexOf(a);)a=a.slice(0,-1);for(var t,s,a,r,c,l,d,u,f,m=s,p=function(e){for(var t=e;"TABLE"!==t.nodeName;)t=t.parentNode;return t}(t),h=c+1;h<l;++h)f=n('.{0}[{1}="{2}"]',[i,o,h]),m+=`
`+p.querySelector(f).textContent;return m+=`
`+a}function c(n){try{var o,s=t.querySelectorAll("code.hljs,code.nohighlight");for(o in s)s.hasOwnProperty(o)&&(s[o].classList.contains("nohljsln")||l(s[o],n))}catch(t){e.console.error("LineNumbers error: ",t)}}function l(e,t){"object"==typeof e&&(e.innerHTML=d(e,t))}function d(e,t){var s,c,l=(c=e,{singleLine:function(e){return!!e.singleLine&&e.singleLine}(s=(s=t)||{}),startFrom:function(e,t){var s,n=1;return isFinite(t.startFrom)&&(n=t.startFrom),s=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):null}(e,"data-ln-start-from"),null!==s&&(n=function(e,t){if(!e)return t;var n=Number(e);return isFinite(n)?n:t}(s,1)),n}(c,s)});return function e(t){var n,o,s=t.childNodes;for(o in s)s.hasOwnProperty(o)&&(n=s[o],0<(n.textContent.trim().match(r)||[]).length&&(0<n.childNodes.length?e(n):g(n.parentNode)))}(e),function(e,t){if(s=u(e),""===s[s.length-1].trim()&&s.pop(),1<s.length||t.singleLine){for(var s,c="",r=0,l=s.length;r<l;r++)c+=n('<tr><td class="{0} {1}" {3}="{5}"><div class="{2}" {3}="{5}"></div></td><td class="{0} {4}" {3}="{5}">{6}</td></tr>',[f,m,a,o,i,r+t.startFrom,0<s[r].length?s[r]:" "]);return n('<table class="{0}">{1}</table>',[h,c])}return e}(e.innerHTML,l)}function g(e){if(s=e.className,/hljs-/.test(s)){for(var s,o=u(e.innerHTML),t=0,i="";t<o.length;t++)i+=n(`<span class="{0}">{1}</span>
`,[s,0<o[t].length?o[t]:" "]);e.innerHTML=i.trim()}}function u(e){return 0===e.length?[]:e.split(r)}function n(e,t){return e.replace(/\{(\d+)\}/g,function(e,n){return 0[0]!==t[n]?t[n]:e})}hljs?(hljs.initLineNumbersOnLoad=function(n){"interactive"===t.readyState||"complete"===t.readyState?c(n):e.addEventListener("DOMContentLoaded",function(){c(n)})},hljs.lineNumbersBlock=l,hljs.lineNumbersValue=function(e,t){if("string"!=typeof e)return;var n=document.createElement("code");return n.innerHTML=e,d(n,t)},(s=t.createElement("style")).type="text/css",s.innerHTML=n(".{0}{border-collapse:collapse}.{0} td{padding:0}.{1}:before{content:attr({2})}",[h,a,o]),t.getElementsByTagName("head")[0].appendChild(s)):e.console.error("highlight.js not detected!"),document.addEventListener("copy",function(e){var n,t=window.getSelection();!function(e){for(var t=e;t;){if(t.className&&-1!==t.className.indexOf("hljs-ln-code"))return 1;t=t.parentNode}}(t.anchorNode)||(n=-1!==window.navigator.userAgent.indexOf("Edge")?p(t):t.toString(),e.clipboardData.setData("text/plain",n),e.preventDefault())})}(window,document);const Plugin={id:"highlight",HIGHLIGHT_STEP_DELIMITER:"|",HIGHLIGHT_LINE_DELIMITER:",",HIGHLIGHT_LINE_RANGE_DELIMITER:"-",hljs,init:function(e){let t=e.getConfig().highlight||{};t.highlightOnLoad=typeof t.highlightOnLoad!="boolean"||t.highlightOnLoad,t.escapeHTML=typeof t.escapeHTML!="boolean"||t.escapeHTML,Array.from(e.getRevealElement().querySelectorAll("pre code")).forEach(e=>{e.parentNode.classList.add("code-wrapper");let n=e.querySelector('script[type="text/template"]');n&&(e.textContent=n.innerHTML),e.hasAttribute("data-trim")&&typeof e.innerHTML.trim=="function"&&(e.innerHTML=betterTrim(e)),t.escapeHTML&&!e.hasAttribute("data-noescape")&&(e.innerHTML=e.innerHTML.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e.addEventListener("focusout",function(e){hljs.highlightElement(e.currentTarget)},!1)}),typeof t.beforeHighlight=="function"&&t.beforeHighlight(hljs),t.highlightOnLoad&&Array.from(e.getRevealElement().querySelectorAll("pre code")).forEach(e=>{Plugin.highlightBlock(e)}),e.on("pdf-ready",function(){[].slice.call(e.getRevealElement().querySelectorAll("pre code[data-line-numbers].current-fragment")).forEach(function(e){Plugin.scrollHighlightedLineIntoView(e,{},!0)})})},highlightBlock:function(e){if(hljs.highlightElement(e),e.innerHTML.trim().length===0)return;if(e.hasAttribute("data-line-numbers")){hljs.lineNumbersBlock(e,{singleLine:!0});var t,n,i,s={currentBlock:e},o=Plugin.deserializeHighlightSteps(e.getAttribute("data-line-numbers"));o.length>1&&(t=parseInt(e.getAttribute("data-fragment-index"),10),(typeof t!="number"||t!=t)&&(t=null),o.slice(1).forEach(function(n){var o=e.cloneNode(!0);o.setAttribute("data-line-numbers",Plugin.serializeHighlightSteps([n])),o.classList.add("fragment"),e.parentNode.appendChild(o),Plugin.highlightLines(o),typeof t=="number"?(o.setAttribute("data-fragment-index",t),t+=1):o.removeAttribute("data-fragment-index"),o.addEventListener("visible",Plugin.scrollHighlightedLineIntoView.bind(Plugin,o,s)),o.addEventListener("hidden",Plugin.scrollHighlightedLineIntoView.bind(Plugin,o.previousSibling,s))}),e.removeAttribute("data-fragment-index"),e.setAttribute("data-line-numbers",Plugin.serializeHighlightSteps([o[0]]))),n=typeof e.closest=="function"?e.closest("section:not(.stack)"):null,n&&(i=function(){Plugin.scrollHighlightedLineIntoView(e,s,!0),n.removeEventListener("visible",i)},n.addEventListener("visible",i)),Plugin.highlightLines(e)}},scrollHighlightedLineIntoView:function(e,t,n){cancelAnimationFrame(t.animationFrameID),t.currentBlock&&(e.scrollTop=t.currentBlock.scrollTop),t.currentBlock=e;var s,i,a,l,d,r=this.getHighlightedLineBounds(e),o=e.offsetHeight,c=getComputedStyle(e);if(o-=parseInt(c.paddingTop)+parseInt(c.paddingBottom),a=e.scrollTop,s=r.top+(Math.min(r.bottom-r.top,o)-o)/2,l=e.querySelector(".hljs-ln"),l&&(s+=l.offsetTop-parseInt(c.paddingTop)),s=Math.max(Math.min(s,e.scrollHeight-o),0),n===!0||a===s)e.scrollTop=s;else{if(e.scrollHeight<=o)return;i=0,d=function(){i=Math.min(i+.02,1),e.scrollTop=a+(s-a)*Plugin.easeInOutQuart(i),i<1&&(t.animationFrameID=requestAnimationFrame(d))},d()}},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},getHighlightedLineBounds:function(e){var n,s,t=e.querySelectorAll(".highlight-line");return t.length===0?{top:0,bottom:0}:(s=t[0],n=t[t.length-1],{top:s.offsetTop,bottom:n.offsetTop+n.offsetHeight})},highlightLines:function(e,t){var n=Plugin.deserializeHighlightSteps(t||e.getAttribute("data-line-numbers"));n.length&&n[0].forEach(function(t){var n=[];typeof t.end=="number"?n=[].slice.call(e.querySelectorAll("table tr:nth-child(n+"+t.start+"):nth-child(-n+"+t.end+")")):typeof t.start=="number"&&(n=[].slice.call(e.querySelectorAll("table tr:nth-child("+t.start+")"))),n.length&&(n.forEach(function(e){e.classList.add("highlight-line")}),e.classList.add("has-highlights"))})},deserializeHighlightSteps:function(e){return e=e.replace(/\s/g,""),e=e.split(Plugin.HIGHLIGHT_STEP_DELIMITER),e.map(function(e){return e.split(Plugin.HIGHLIGHT_LINE_DELIMITER).map(function(e){if(/^[\d-]+$/.test(e)){e=e.split(Plugin.HIGHLIGHT_LINE_RANGE_DELIMITER);var t=parseInt(e[0],10),n=parseInt(e[1],10);return n!=n?{start:t}:{start:t,end:n}}else return{}})})},serializeHighlightSteps:function(e){return e.map(function(e){return e.map(function(e){return typeof e.end=="number"?e.start+Plugin.HIGHLIGHT_LINE_RANGE_DELIMITER+e.end:typeof e.start=="number"?e.start:""}).join(Plugin.HIGHLIGHT_LINE_DELIMITER)}).join(Plugin.HIGHLIGHT_STEP_DELIMITER)}};function betterTrim(e){function t(e){return e.replace(/^[\s\uFEFF\xA0]+/g,"")}function n(e){for(var n=e.split(`
`),t=0;t<n.length;t++)if(n[t].trim()==="")n.splice(t--,1);else break;for(t=n.length-1;t>=0;t--)if(n[t].trim()==="")n.splice(t,1);else break;return n.join(`
`)}return function(e){var o=n(e.innerHTML),s=o.split(`
`),i=s.reduce(function(e,n){return n.length>0&&t(n).length>0&&e>n.length-t(n).length?n.length-t(n).length:e},Number.POSITIVE_INFINITY);return s.map(function(e){return e.slice(i)}).join(`
`)}(e)}export default()=>Plugin