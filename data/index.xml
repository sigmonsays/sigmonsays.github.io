<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Recent Content on sig </title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>http://sigmonsays.github.io/index.xml/</link>
    
    
    
    <updated>Sun, 07 Sep 2014 19:37:21 PDT</updated>
    
    <item>
      <title>docker wishlist</title>
      <link>http://sigmonsays.github.io/2014/09/docker-wishlist/</link>
      <pubDate>Sun, 07 Sep 2014 19:37:21 PDT</pubDate>
      
      <guid>http://sigmonsays.github.io/2014/09/docker-wishlist/</guid>
      <description>

&lt;p&gt;things I find that I wish docker supported&lt;/p&gt;

&lt;h1 id=&#34;toc_0&#34;&gt;dockerfile&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;**store build context with the image **&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;provides ability to change original dockerfile for images you download&lt;/li&gt;
&lt;li&gt;saves dockerfile and other build artifacts&lt;/li&gt;
&lt;li&gt;similar in concept to a &amp;ldquo;source package&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;support for variables&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There is very little that the dockerfile actually supports beyond basic static directives.&lt;/p&gt;

&lt;p&gt;If dockerfile supported templates and variables, we could allow repetitive lines to be reduced to
  the bare minimum. This would allow snippets like this to be greatly reduced. We shouldn&amp;rsquo;t have to
  repeat 0.1.3 everywhere, it should just be a variable!&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;RUN curl http://example.net/package-0.1.3.tar.gz -o package-0.1.3.tar.gz
RUN tar zxf package-0.1.3.tar.gz 
RUN cd package-0.1.3 &amp;amp;&amp;amp; make &amp;amp;&amp;amp; \
    cp package-0.1.3/bin/whatever /usr/bin/whatever
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>docker networking performance</title>
      <link>http://sigmonsays.github.io/2014/09/docker-networking-performance/</link>
      <pubDate>Fri, 05 Sep 2014 07:33:28 PDT</pubDate>
      
      <guid>http://sigmonsays.github.io/2014/09/docker-networking-performance/</guid>
      <description>

&lt;p&gt;While trying to determine the performance overhead of a simple docker container setup, I discovered several
issues related to network performance.&lt;/p&gt;

&lt;p&gt;two issues I have encountered&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;docker-proxy handles local network traffic when using the hosts bridge IP (or localhost)&lt;/li&gt;
&lt;li&gt;connection tracking overhead of NAT increases memory usage&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;my setup&lt;/p&gt;

&lt;p&gt;I am using docker containers as an easy way to deploy backends on a host. I wish to use
the hosts bridge IP as a backend to route requests from the load balancer. The load balancer
is just a haproxy instance running on port 8080 and it uses 500X as backend ports.  I had to
doctor up the output a little but this is still the output of &lt;strong&gt;docker ps&lt;/strong&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;07 haproxy:0.0.1-8 X Up 2 days   0.0.0.0:443-&amp;gt;443/tcp     dev1-haproxy-1      
                                 0.0.0.0:1983-&amp;gt;1983/tcp
                                 0.0.0.0:8080-&amp;gt;8080/tcp

b6 api:4.2.0-2   X  Up 14 hours  0.0.0.0:5003-&amp;gt;8080/tcp   dev1-api-3
f0 api:4.2.0-2   X  Up 14 hours  0.0.0.0:5002-&amp;gt;8080/tcp   dev1-api-2
7f api:4.2.0-2   X  Up 15 hours  0.0.0.0:5001-&amp;gt;8080/tcp   dev1-api-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I&amp;rsquo;ve measured performance of docker-proxy process using nginx and timing the transfers and have seen
performance degrades around 40-50% due to docker having to reverse proxy the connection in software.&lt;/p&gt;

&lt;p&gt;I really believe that if performance is important, there should be a option of disabling docker-proxy,
but I will focus on this more later if I really need to.&lt;/p&gt;

&lt;h2 id=&#34;toc_0&#34;&gt;issues with docker-proxy&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;software reverse proxy should not be enabled by default&lt;/li&gt;
&lt;li&gt;network performance degradation up to 50% is not acceptable when traffic is &lt;em&gt;accidently&lt;/em&gt;
routed through the proxy.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;i&amp;rsquo;m not entirely sure why the userland proxy is even required or why it was introduced.
investigating the proxy history shows proxy was introduced in Apr 2013, commit 930e9a7,
unfortunately it is not easy to determine the intention and why iptables was not just
used in the first place to handle local traffic. iptables is used to route the network
traffic externally, so I wonder, why the proxy in userland. It seems pointless but I
have yet to investigate it further.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>interesting tech</title>
      <link>http://sigmonsays.github.io/2014/09/interesting-tech-2/</link>
      <pubDate>Wed, 03 Sep 2014 10:30:30 PDT</pubDate>
      
      <guid>http://sigmonsays.github.io/2014/09/interesting-tech-2/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;tenus - linux networking in golang

&lt;ul&gt;
&lt;li&gt;website &lt;a href=&#34;https://github.com/milosgajdos83/tenus&#34;&gt;https://github.com/milosgajdos83/tenus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mentioned in article - &lt;a href=&#34;http://containerops.org/2014/07/30/tenus-golang-powered-linux-networking/&#34;&gt;http://containerops.org/2014/07/30/tenus-golang-powered-linux-networking/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>interesting tech</title>
      <link>http://sigmonsays.github.io/2014/09/interesting-tech/</link>
      <pubDate>Tue, 02 Sep 2014 10:38:37 PDT</pubDate>
      
      <guid>http://sigmonsays.github.io/2014/09/interesting-tech/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;p&gt;otro - javascript interpreter in Go - &lt;a href=&#34;https://github.com/robertkrimen/otto&#34;&gt;https://github.com/robertkrimen/otto&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;C10M - &lt;a href=&#34;http://c10m.robertgraham.com/p/manifesto.html&#34;&gt;http://c10m.robertgraham.com/p/manifesto.html&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Completely decentralized cloud messaging - &lt;a href=&#34;http://iris.karalabe.com&#34;&gt;http://iris.karalabe.com&lt;/a&gt;
decentralized cloud messaging with broadcast, request/reply and pubsub messaging with literally zero configuration.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Fast and Simple Open Source &amp;ldquo;Github&amp;rdquo; - &lt;a href=&#34;https://github.com/gogits/gogs&#34;&gt;https://github.com/gogits/gogs&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Quick VPN using SSH - &lt;a href=&#34;http://backreference.org/2009/11/13/openssh-based-vpns/&#34;&gt;http://backreference.org/2009/11/13/openssh-based-vpns/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Rudder - Software Defined Networks - &lt;a href=&#34;https://github.com/coreos/rudder &#34;&gt;https://github.com/coreos/rudder &lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>about</title>
      <link>http://sigmonsays.github.io/about/</link>
      <pubDate>Tue, 02 Sep 2014 09:38:41 PDT</pubDate>
      
      <guid>http://sigmonsays.github.io/about/</guid>
      <description>&lt;p&gt;Start of another blog, developer focused, as a way to write about, keep track of and archive various technologies and trends.&lt;/p&gt;

&lt;p&gt;Hopefully this involves into something for now but mostly its a place to put random thought.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>